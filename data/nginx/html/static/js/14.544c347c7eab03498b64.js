webpackJsonp([14],{"Wh+9":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("wOLo"),l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rightServerConfig"},[s("el-row",[s("el-row",{staticClass:"head",staticStyle:{"border-top-left-radius":"3px","border-top-right-radius":"3px"}},[s("div",{staticClass:"pull-left",staticStyle:{position:"relative",top:"8px",lef:"0px"}},[s("div",{staticClass:"title"},[s("span",[e._v(e._s(e.server.title))])])])]),e._v(" "),s("el-row",[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.server.loading,expression:"server.loading"}],staticStyle:{width:"100%"},attrs:{"empty-text":"NO DATA",data:e.server.servers}},[s("el-table-column",{staticStyle:{"background-color":"grey"},attrs:{align:"left","header-align":"left",type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-row",{staticStyle:{"margin-top":"10px"}},[s("span",[e._v("正在判题队列数：")]),e._v(" "),s("span",[s("el-tag",{attrs:{type:"primary","close-transition":""}},[e._v(e._s(t.row.judgingTask))])],1)]),e._v(" "),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("span",[e._v("已判题数：")]),e._v(" "),s("span",[s("el-tag",{attrs:{type:"primary","close-transition":""}},[e._v(e._s(t.row.judgedTask))])],1)])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:"正常运行"===t.row.status?"primary":"success","close-transition":""}},[e._v(e._s(t.row.status))])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"hostname",label:"主机ID"}}),e._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"cpu",label:"CPU个数"}}),e._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"cpuUsage",label:"CPU使用率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.cpuUsage)+"%")]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"memoryUsage",label:"内存使用率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memoryUsage)+"%")]}}])})],1)],1)],1),e._v(" "),s("el-row",{staticStyle:{"margin-top":"20px"}},[s("el-row",{staticClass:"head",staticStyle:{"border-top-left-radius":"3px","border-top-right-radius":"3px"}},[s("div",{staticStyle:{position:"relative",top:"8px",lef:"0px"}},[s("div",{staticClass:"title"},[s("span",[e._v(e._s(e.web.title))])])])]),e._v(" "),s("el-row",{staticStyle:{padding:"15px 20px","background-color":"white",color:"#606266"}},[s("el-row",[s("el-col",{staticClass:"ecoder-vertical-input-middle",attrs:{span:2}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),s("span",[e._v("Name")])]),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-input",{attrs:{placeholder:"请输入内容",maxlength:10},model:{value:e.web.name,callback:function(t){e.$set(e.web,"name",t)},expression:"web.name"}})],1),e._v(" "),s("el-col",{staticClass:"ecoder-vertical-input-middle",attrs:{span:4,offset:1}},[e._v("\n          Rigister Permission\n        ")]),e._v(" "),s("el-col",{staticClass:"ecoder-vertical-input-middle",attrs:{span:1}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.web.registerPermission,callback:function(t){e.$set(e.web,"registerPermission",t)},expression:"web.registerPermission"}})],1)],1),e._v(" "),s("el-row",{staticStyle:{"margin-top":"15px"}},[s("el-col",{attrs:{span:2}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),s("span",[e._v("Footer")])]),e._v(" "),s("el-col",{attrs:{span:22}},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"-> support html code (care for css) <-"},model:{value:e.web.footer,callback:function(t){e.$set(e.web,"footer",t)},expression:"web.footer"}})],1)],1),e._v(" "),s("el-row",{staticClass:"pull-right",staticStyle:{"margin-top":"15px"}},[s("el-button",{attrs:{round:""},on:{click:e.saveWeb}},[e._v("Save")])],1)],1)],1),e._v(" "),s("el-row",{staticStyle:{"margin-top":"20px"}},[s("el-row",{staticClass:"head",staticStyle:{"border-top-left-radius":"3px","border-top-right-radius":"3px"}},[s("div",{staticClass:"pull-left",staticStyle:{position:"relative",top:"8px",lef:"0px"}},[s("div",{staticClass:"title"},[s("span",[e._v(e._s(e.smtp.title))])])])]),e._v(" "),s("el-row",{staticStyle:{padding:"15px 20px","background-color":"white",color:"#606266"}},[s("el-row",[s("el-col",{staticClass:"ecoder-vertical-input-middle",attrs:{span:2}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),s("span",[e._v("邮箱")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-input",{attrs:{placeholder:"input"},model:{value:e.smtp.email,callback:function(t){e.$set(e.smtp,"email",t)},expression:"smtp.email"}})],1),e._v(" "),s("el-col",{staticClass:"ecoder-vertical-input-middle",attrs:{span:2,offset:4}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),s("span",[e._v("密码")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-input",{attrs:{placeholder:"input",type:"password"},model:{value:e.smtp.emailPass,callback:function(t){e.$set(e.smtp,"emailPass",t)},expression:"smtp.emailPass"}})],1)],1),e._v(" "),s("el-row",{staticStyle:{"margin-top":"20px"}},[s("el-col",{staticClass:"ecoder-vertical-input-middle",attrs:{span:2}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),s("span",[e._v("协议(host)")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-input",{attrs:{placeholder:"input",type:"text"},model:{value:e.smtp.host,callback:function(t){e.$set(e.smtp,"host",t)},expression:"smtp.host"}})],1)],1),e._v(" "),s("el-row",{staticClass:"pull-right",staticStyle:{"margin-top":"15px"}},[s("el-tooltip",{attrs:{effect:"dark",placement:"top-start"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            请填写您的邮箱以及smtp密码（可能不是登录密码）"),s("br"),e._v("\n            例如163邮箱"),s("br"),e._v("\n            邮箱：xxx@163.com"),s("br"),e._v("\n            密码：XXX"),s("br"),e._v("\n            host：smtp.163.com\n          ")]),e._v(" "),s("el-button",{attrs:{round:""},on:{click:e.saveSmtp}},[e._v("Save")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var r=function(e){s("YRyU")},i=s("VU/8")(a.a,l,!1,r,null,null);t.default=i.exports},YRyU:function(e,t){},wOLo:function(e,t,s){"use strict";(function(e){t.a={name:"RightServerConfig",data:function(){return{web:{title:"网站基础配置",name:"",registerPermission:!0,footer:""},server:{loading:!0,title:"服务器状态(每5秒刷新一次状态)",servers:[]},smtp:{title:"SMTP 配置",email:"",emailPass:"",host:""}}},methods:{saveWeb:function(){var t=this;e.ajax({type:"post",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/saveWebsite",data:this.web,dataType:"json",success:function(e){null!=e.success?t.$message({type:"success",message:e.success}):null!=e.error&&t.$message({type:"error",message:"系统错误"})},error:function(e){t.$message({type:"error",message:null==e.responseJSON?"系统错误":e.responseJSON.message})}})},saveSmtp:function(){var t=this;e.ajax({type:"post",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/saveSmtp",data:this.smtp,dataType:"json",success:function(e){null!=e.success?t.$message({type:"success",message:e.success}):null!=e.error&&t.$message({type:"error",message:"系统错误"})},error:function(e){t.$message({type:"error",message:null==e.responseJSON?"系统错误":e.responseJSON.message})}})},getWeb:function(){var t=this;e.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/getWebsite",dataType:"json",success:function(e){null!=e.success&&(t.web.name=e.name,t.web.footer=e.footer,t.web.registerPermission=e.permission)}})},getServer:function(){var t=this;e.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/getServer",dataType:"json",success:function(e){null!=e.success&&(t.server.servers=[],t.server.servers.push(e),t.server.loading=!1,setTimeout(t.getServer,5e3))}})},getSmtp:function(){var t=this;e.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/getSmtp",dataType:"json",success:function(e){null!=e.success&&(t.smtp.email=e.email,t.smtp.host=e.host)}})}},mounted:function(){this.getWeb(),this.getServer(),this.getSmtp()}}}).call(t,s("7t+N"))}});