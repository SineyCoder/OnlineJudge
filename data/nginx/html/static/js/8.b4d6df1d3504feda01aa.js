webpackJsonp([8],{"3JgP":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Fy2k"),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rightCreateContestConfig"},[s("el-row",{staticClass:"head"},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.title))])])])],1),t._v(" "),s("el-row",{staticStyle:{padding:"15px 20px","background-color":"white",color:"#606266"}},[s("el-form",{ref:"contestForm",attrs:{"status-icon":"","label-position":"top","label-width":"80px",model:t.contestForm,rules:t.contestRules}},[s("el-form-item",{attrs:{label:"标题",prop:"contestName"}},[s("el-input",{model:{value:t.contestForm.contestName,callback:function(e){t.$set(t.contestForm,"contestName",e)},expression:"contestForm.contestName"}})],1),t._v(" "),s("el-row",[s("el-form-item",{attrs:{label:"比赛描述",prop:"contestDescription"}},[s("quill-editor",{ref:"contestDesc",attrs:{options:t.editorOption},model:{value:t.contestForm.contestDescription,callback:function(e){t.$set(t.contestForm,"contestDescription",e)},expression:"contestForm.contestDescription"}}),t._v(" "),s("el-input",{staticStyle:{display:"none"},model:{value:t.contestForm.contestDescription,callback:function(e){t.$set(t.contestForm,"contestDescription",e)},expression:"contestForm.contestDescription"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[s("el-date-picker",{attrs:{id:"d1",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"choose time"},model:{value:t.contestForm.startTime,callback:function(e){t.$set(t.contestForm,"startTime",e)},expression:"contestForm.startTime"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6,offset:3}},[s("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[s("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"choose time"},model:{value:t.contestForm.endTime,callback:function(e){t.$set(t.contestForm,"endTime",e)},expression:"contestForm.endTime"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6,offset:3}},[s("el-form-item",{attrs:{label:"比赛密码(可选填)",prop:"contestPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:t.contestForm.contestPassword,callback:function(e){t.$set(t.contestForm,"contestPassword",e)},expression:"contestForm.contestPassword"}})],1)],1)],1),t._v(" "),s("el-row",[s("el-form-item",{attrs:{label:"是否可见",prop:"contestVisible"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.contestForm.contestVisible,callback:function(e){t.$set(t.contestForm,"contestVisible",e)},expression:"contestForm.contestVisible"}})],1)],1),t._v(" "),s("el-row",{staticStyle:{float:"right"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("contestForm")}}},[t._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var n=function(t){s("Afss")},i=s("VU/8")(o.a,r,!1,n,null,null);e.default=i.exports},Afss:function(t,e){},Fy2k:function(t,e,s){"use strict";(function(t){var o=s("rwyn"),r=(s.n(o),s("5SB6"),s("G0J2")),n=(s.n(r),s("GH0r"));r.Quill.register("modules/ImageExtend",n.a),e.a={components:{quillEditor:r.quillEditor},name:"",data:function(){var t=this;return{title:"创建比赛",contestForm:{contestName:"",contestDescription:"",startTime:"",endTime:"",createTime:"",contestPassword:"",contestVisible:!1,contestCreator:""},contestRules:{contestName:[{validator:function(t,e,s){""==e?s(new Error("标题必填")):e.length>30?s(new Error("长度在1-30之间")):s()},trigger:"change"}],contestDescription:[{required:!0,message:"比赛描述必填",trigger:"change"}],startTime:[{validator:function(t,e,s){""==e||null==e?s(new Error("开始时间必填")):s()},trigger:"blur"}],endTime:[{validator:function(e,s,o){""==t.contestForm.startTime||null==t.contestForm.startTime?o(new Error("开始时间必填")):""==s||null==s?o(new Error("结束时间必填")):s>t.contestForm.startTime?o():o(new Error("开始时间大于结束时间，错误的时间间隔！"))},trigger:"blur"}],contestPassword:[{validator:function(t,e,s){/^.{0,20}$/.test(e)?s():s(new Error("密码必须在20位以内，或者为空"))},trigger:"change"}]},editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["link","image"]]}}}},mounted:function(){-1!=this.$route.path.indexOf("editContest")&&this.setEditContest()},methods:{setEditContest:function(){var e=this;t.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/getEditContest/"+this.$route.params.id,dataType:"json",success:function(t){if(null!=t.success){var s=e.contestForm;for(var o in t.result)s[o]=t.result[o]}else null!=t.error&&e.$message({type:"error",message:t.error})},error:function(t){e.$message({type:"error",message:null==t.responseJSON?"系统错误":t.responseJSON.message})}})},submitForm:function(e){var s=this;this.$refs[e].validate(function(o){var r;o&&(r=-1!=s.$route.path.indexOf("editContest")?"http://"+s.$HOST+"/backend/editContest":"http://"+s.$HOST+"/backend/addContest",t.ajax({type:"post",xhrFields:{withCredentials:s.$CORS},crossDomain:s.$CORS,url:r,data:s.contestForm,dataType:"json",success:function(t){null!=t.success?(s.$router.push("/backend/contestList/1"),s.$message({type:"success",message:t.success}),s.$refs[e].resetFields()):null!=t.error&&s.$message({type:"error",message:t.error})},error:function(t){s.$message({type:"error",message:null==t.responseJSON?"系统错误":t.responseJSON.message})}}))})}}}}).call(e,s("7t+N"))}});