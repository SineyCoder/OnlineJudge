webpackJsonp([16],{"3Nz5":function(t,e){},KXOj:function(t,e,a){"use strict";(function(t){var l=a("Dd8w"),s=a.n(l),n=a("NYxO");e.a={name:"",data:function(){return{title:"题目",tableData:[],page:{currentPage:1,pageSize:1,total:1},loading:!0,options:null,label_value:""}},computed:s()({},n.c),methods:s()({},n.b,{focus_tag:function(){var e=this;null==this.options&&t.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,async:!0,url:"http://"+this.$HOST+"/common/allTags",dataType:"json",success:function(t){e.options=[];for(var a=0;a<t.tags.length;a++){var l={tagId:t.tags[a].tagId,label:t.tags[a].tagName,value:t.tags[a].tagId};e.options.push(l),console.log(e.options)}},error:function(t){e.$message({type:"error",message:null==t.responseJSON?"系统错误":t.responseJSON.message})}})},select_tag:function(e){var a=this;""==this.label_value?this.setInfo():(this.loading=!0,t.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,async:!0,url:"http://"+this.$HOST+"/common/problemsByTag",dataType:"json",data:{tagId:this.label_value,page:e},success:function(t){console.log(t),a.page=t.pagination,a.tableData=t.problems;for(var e=[],l=0;l<t.problems.length;l++)e.push({tags:[t.tag]});a.setRatioAndTags(e),a.inject(t.wa,"WA"),a.inject(t.ac,"AC"),a.loading=!1},error:function(t){a.$message({type:"error",message:null==t.responseJSON?"系统错误":t.responseJSON.message})}}))},setInfo:function(){var e=this,a=this.returnUrl();this.tableData=[],this.loading=!0,t.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,async:!0,url:a,dataType:"json",success:function(t){e.page=t.pagination,e.tableData=t.problems,e.setRatioAndTags(t.tags),e.inject(t.wa,"WA"),e.inject(t.ac,"AC"),e.loading=!1},error:function(t){e.$message({type:"error",message:null==t.responseJSON?"系统错误":t.responseJSON.message})}})},inject:function(t,e){if(null!=t)for(var a=0;a<t.length;a++)for(var l=0;l<this.tableData.length;l++)t[a].problemId==this.tableData[l].problemId&&(this.tableData[l].status=e)},setRatioAndTags:function(t){for(var e=0;e<this.tableData.length;e++){null!=t[e]&&(this.tableData[e].tags=t[e].tags);for(var a=0,l=0;l<this.tableData[e].result.length;l++)if("AC"==this.tableData[e].result[l].resultName){a=this.tableData[e].result[l].total;break}a>0&&(a/=this.tableData[e].submitTotal),this.tableData[e].ratio=a}},returnUrl:function(){return"http://"+this.$HOST+"/common"+this.$route.path},handleCurrentChange:function(t){if(""==this.label_value){var e=this.$route.path;e=e.substr(0,e.lastIndexOf("/"))+"/"+t,this.$router.push(e)}else this.select_tag(t)},filterHandler:function(t,e,a){return e[a.property]===t}}),mounted:function(){this.setInfo()},watch:{$route:function(t,e){this.setInfo()}}}}).call(e,a("7t+N"))},k1X3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("KXOj"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightProblems"},[a("el-row",{staticClass:"head"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative",top:"8px",left:"0px"}},[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.title))])])]),t._v(" "),a("div",{staticClass:"pull-right",staticStyle:{position:"relative",top:"8px",right:"30px",width:"200px"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"筛选标签"},on:{change:function(e){t.select_tag(1)},focus:t.focus_tag},model:{value:t.label_value,callback:function(e){t.label_value=e},expression:"label_value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("el-row",[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"status",label:"状态",fixed:"",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{directives:[{name:"show",rawName:"v-show",value:"AC"==e.row.status,expression:"scope.row.status=='AC'"}],staticClass:"iconfont icon-tongguo",staticStyle:{color:"green"}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"WA"==e.row.status,expression:"scope.row.status=='WA'"}],staticClass:"iconfont icon-jinzhi",staticStyle:{color:"red"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"problemId",label:"I D",sortable:"",width:"65"}}),t._v(" "),a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"problemTitle",label:"题目标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text_hidden"},[a("router-link",{attrs:{to:"/coding/"+e.row.problemId}},[t._v(t._s(e.row.problemTitle))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"tags",label:"标签"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.tags,function(e,l){return a("el-tag",{key:e.key,staticStyle:{"margin-right":"5px"},attrs:{type:"primary","close-transition":""}},[t._v(t._s(e.tagName))])})}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"problemDifficulty",label:"难度",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"easy"===e.row.problemDifficulty?"primary":"warning","close-transition":""}},[t._v(t._s(e.row.problemDifficulty))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"submitTotal",label:"提交",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(Math.round(e.row.submitTotal*e.row.ratio))+" / "+t._s(e.row.submitTotal))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left","header-align":"left",prop:"ratio",label:"通过率",width:"250",sortable:"",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:parseFloat((100*t.row.ratio).toFixed(2))}})]}}])})],1)]],2),t._v(" "),a("el-row",[a("div",{staticClass:"block pull-right"},[a("el-pagination",{attrs:{background:"","current-page":t.page.currentPage,"page-size":t.page.pageSize,layout:"prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.page,"currentPage",e)}}})],1)])],1)},staticRenderFns:[]};var n=function(t){a("3Nz5")},r=a("VU/8")(l.a,s,!1,n,null,null);e.default=r.exports}});