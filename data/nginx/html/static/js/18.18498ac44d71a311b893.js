webpackJsonp([18],{RxkC:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("hdeF"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rightContestListConfig"},[s("el-row",{staticClass:"head"},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.title))])])])],1),t._v(" "),s("el-row",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.contestList,"empty-text":"NO DATA"}},[s("el-table-column",{staticStyle:{"background-color":"grey"},attrs:{align:"left","header-align":"left",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-row",[s("span",[t._v("创建时间：")]),t._v(" "),s("span",[s("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(e.row.createTime))])],1)]),t._v(" "),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("span",[t._v("创建者：")]),t._v(" "),s("span",[s("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(e.row.contestCreator))])],1)]),t._v(" "),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("span",[t._v("密码：")]),t._v(" "),s("span",[s("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(""!=e.row.contestPassword?"有密码保护":"没有密码"))])],1)])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"id",label:"ID",sortable:"",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",prop:"contestName",label:"标题",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",label:"开始时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(e.row.startTime))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",label:"结束时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(e.row.endTime))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v(t._s(e.row.contestStatus))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",label:"是否可见",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){t.switchChange(e.$index,t.contestList)}},model:{value:e.row.contestVisible,callback:function(s){t.$set(e.row,"contestVisible",s)},expression:"scope.row.contestVisible"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"left","header-align":"left",fixed:"right",label:"选项"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[s("el-button",{staticStyle:{padding:"8px 15px"},attrs:{icon:"el-icon-edit",size:"small"},nativeOn:{click:function(s){s.preventDefault(),t.edit(e.row.id)}}})],1),t._v(" "),s("el-tooltip",{attrs:{content:"删除",placement:"top"}},[s("el-button",{staticStyle:{padding:"8px 15px"},attrs:{icon:"el-icon-delete",size:"small"},nativeOn:{click:function(s){s.preventDefault(),t.deleteRow(e.row.id)}}})],1),t._v(" "),s("el-tooltip",{attrs:{content:"题目",placement:"top"}},[s("el-button",{staticStyle:{padding:"8px 15px"},attrs:{icon:"el-icon-menu",size:"small"},nativeOn:{click:function(s){s.preventDefault(),t.problem(e.row.id)}}})],1)]}}])})],1)],1),t._v(" "),s("el-row",[s("div",{staticClass:"block pull-right"},[s("el-pagination",{attrs:{background:"","current-page":t.page.currentPage,"page-size":t.page.pageSize,layout:"prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.page,"currentPage",e)}}})],1)])],1)},staticRenderFns:[]};var l=function(t){s("yYI2")},r=s("VU/8")(n.a,a,!1,l,null,null);e.default=r.exports},hdeF:function(t,e,s){"use strict";(function(t){var n=s("rwyn");s.n(n),s("5SB6");e.a={name:"",data:function(){return{title:"比赛管理",contestList:[],page:{currentPage:1,pageSize:1,total:1}}},mounted:function(){this.setContestList()},methods:{setContestList:function(){var e=this;t.ajax({type:"get",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,url:"http://"+this.$HOST+"/backend/contestList/"+this.$route.params.id,dataType:"json",success:function(t){null!=t.success?(e.page=t.pagination,e.contestList=t.contests):null!=t.error&&e.$message({title:"error",message:t.error})},error:function(t){e.$message({type:"error",message:"系统错误"})}})},handleCurrentChange:function(){var t=this.$route.path;t=t.substr(0,t.lastIndexOf("/"))+"/"+val,this.$router.push(t)},switchChange:function(e,s){var n=this,a=s[e].id,l=s[e].contestVisible;t.ajax({type:"post",xhrFields:{withCredentials:this.$CORS},crossDomain:this.$CORS,async:!0,url:"http://"+this.$HOST+"/backend/changeShowContest",dataType:"json",data:{id:a,contestVisible:l},success:function(t){null!=t.success&&n.$message({type:"success",message:"比赛"+a+"状态变为"+(l?"可见":"不可见")})},error:function(t){n.$message({type:"error",message:null==t.responseJSON?"系统错误":t.responseJSON.message})}})},deleteRow:function(e){var s=this;this.$confirm("此操作将永久删除该比赛，请谨慎删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.ajax({type:"post",xhrFields:{withCredentials:s.$CORS},crossDomain:s.$CORS,url:"http://"+s.$HOST+"/backend/deleteContest/"+e,dataType:"json",success:function(t){null!=t.success?(s.setContestList(),s.$message({type:"success",message:t.success})):null!=t.error&&s.$message({type:"error",message:t.error})},error:function(t){s.$message({type:"error",message:"系统错误"})}})}).catch(function(){s.$message({type:"info",message:"取消删除"})})},edit:function(t){this.$router.push("/backend/editContest/"+t)},problem:function(t){this.$router.push("/backend/contest/"+t+"/problemList/1")}},watch:{$route:function(t,e){this.setContestList()}}}}).call(e,s("7t+N"))},yYI2:function(t,e){}});